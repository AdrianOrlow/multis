webpackJsonp([1],{NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("7+uW"),a=o("1mcD"),i=o.n(a),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var l=o("VU/8")({name:"App",data:function(){return{user:null}}},n,!1,function(t){o("xUHV")},null,null).exports,r=o("/ocq"),u=o("kxiW"),p=o.n(u),c=p.a.initializeApp({apiKey:"AIzaSyBKLjkwGlRkySMZqUgn9iRsfrbHgjL8W2Y",authDomain:"mylibrary-ato.firebaseapp.com",databaseURL:"https://mylibrary-ato.firebaseio.com",projectId:"mylibrary-ato",storageBucket:"",messagingSenderId:"846912325877"}).database();window.booksRef=c.ref("books");var _={name:"Main",data:function(){return{search:""}},firebase:{books:booksRef},computed:{filteredBooks:function(){var t=this;return this.books.filter(function(e){return-1!==e.Title.toLowerCase().indexOf(t.search.toLowerCase())})}}},d={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("header",{staticClass:"header"},[o("div",{staticClass:"header__logo"},[o("router-link",{attrs:{to:"/"}},[o("h1",{staticClass:"h1--logo"},[t._v("myLibrary")])])],1)]),t._v(" "),o("main",[o("div",{staticClass:"main--container main--white"},[o("div",{staticClass:"section section--search"},[o("div",{staticClass:"search--container"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"search__input",attrs:{type:"text",placeholder:"Search for books"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])]),t._v(" "),t.search?o("div",{staticClass:"section section--books"},t._l(t.filteredBooks,function(e){return o("div",{key:e.id,staticClass:"book"},[o("div",{staticClass:"book--container"},[o("div",{staticClass:"book__info"},[o("h1",{staticClass:"book__title"},[t._v(t._s(e.Title))]),o("br"),t._v(" "),o("h2",{staticClass:"book__author"},[t._v("by "+t._s(e.Author))]),t._v(" "),o("img",{staticClass:"book__cover",attrs:{src:e.Imglink}}),t._v(" "),o("h2",{staticClass:"book__status"},[t._v(t._s(e.Status))])])])])})):t._e()])]),t._v(" "),o("footer",{staticClass:"footer footer--bottom"},[o("div",{staticClass:"footer--container"},[o("h1",{staticClass:"footer--title"},[t._v("\n            © Adrian Orłów\n          ")]),t._v(" "),o("div",{staticClass:"footer--nav"},[o("ul",{staticClass:"footer--list"},[o("router-link",{attrs:{to:"/login"}},[o("p",{staticClass:"footer--link"},[t._v("Admin panel")])])],1)])])])])},staticRenderFns:[]},v=o("VU/8")(_,d,!1,null,null,null).exports,m={name:"Login",beforeCreate:function(){var t=this;null!=this.$parent.user&&this.$router.replace("panel"),p.a.auth().onAuthStateChanged(function(e){e&&(t.$parent.user=e)})},data:function(){return{email:"",password:"",user:null}},methods:{signIn:function(){var t=this;p.a.auth().signInWithEmailAndPassword(this.email,this.password).then(function(e){t.$router.replace("panel")},function(t){alert("Error: "+t.message)})}}},h={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("header",{staticClass:"header"},[o("div",{staticClass:"header__logo"},[o("router-link",{attrs:{to:"/"}},[o("h1",{staticClass:"h1--logo"},[t._v("myLibrary")])]),t._v(" "),o("h2",{staticClass:"h2--logo"},[t._v("Admin Login")])],1)]),t._v(" "),o("main",[o("div",{staticClass:"main--container"},[o("div",{staticClass:"section"},[o("form",{staticClass:"form--login",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form__el",attrs:{type:"text",id:"inputEmail",placeholder:"ID",required:"",autofocus:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form__el",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),o("button",{staticClass:"form__sumbit",on:{click:t.signIn}},[t._v("Login")])])])])]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"footer footer--bottom"},[e("div",{staticClass:"footer--container"},[e("h1",{staticClass:"footer--title"},[this._v("\n            © Adrian Orłów\n          ")])])])}]},k=o("VU/8")(m,h,!1,null,null,null).exports,f={name:"Panel",data:function(){return{noPopup:!0,search:"",showAddBook:!1,showMore:!1,showEdit:!1,book:"",Title:"",Author:"",Imglink:"",Isbn:"",Status:"",newBook:{Title:"",Author:"",Imglink:"",Isbn:"",Status:""},editBook:{Title:"",Author:"",Imglink:"",Isbn:"",Status:""}}},beforeCreate:function(){null==this.$parent.user&&this.$router.replace("login")},firebase:{books:booksRef},computed:{filteredBooks:function(){var t=this;return this.books.filter(function(e){return-1!==e.Title.toLowerCase().indexOf(t.search.toLowerCase())})}},methods:{logout:function(){var t=this;p.a.auth().signOut().then(function(){t.$parent.user=null,t.$router.replace("login")})},addClicked:function(){this.showAddBook=!0,this.noPopup=!1,document.documentElement.scrollTop=0},addBook:function(){booksRef.push(this.newBook),this.newBook.Title="",this.newBook.Author="",this.newBook.Imglink="",this.newBook.Isbn="",this.newBook.Status=""},moreClicked:function(t){this.editBook.Title=t.Title,this.editBook.Author=t.Author,this.editBook.Imglink=t.Imglink,this.editBook.Isbn=t.Isbn,this.editBook.Status=t.Status,this.showMore=!0,this.noPopup=!1,document.documentElement.scrollTop=0},editClicked:function(t){this.book=t,this.editBook.Title=t.Title,this.editBook.Author=t.Author,this.editBook.Imglink=t.Imglink,this.editBook.Isbn=t.Isbn,this.editBook.Status=t.Status,this.showEdit=!0,this.noPopup=!1,document.documentElement.scrollTop=0},updateBook:function(t){booksRef.child(this.book[".key"]).update(this.editBook),this.showEdit=!1,this.noPopup=!0,this.editBook.Title="",this.editBook.Author="",this.editBook.Imglink="",this.editBook.Isbn="",this.editBook.Status=""},removeBook:function(t){booksRef.child(t[".key"]).remove()},closePopup:function(){this.noPopup=!0}}},b={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return this.$parent.user?o("div",[o("header",{staticClass:"header"},[o("div",{staticClass:"header__logo"},[o("router-link",{attrs:{to:"/"}},[o("h1",{staticClass:"h1--logo"},[t._v("myLibrary")])]),t._v(" "),o("h2",{staticClass:"h2--logo"},[t._v("Admin Panel")])],1)]),t._v(" "),o("main",[o("div",{staticClass:"main--container"},[o("div",{staticClass:"section"},[t.noPopup?o("div",{staticClass:"table--container"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"table__input",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),o("table",{staticClass:"table"},[t._m(0),t._v(" "),o("tbody",t._l(t.filteredBooks,function(e){return o("tr",[o("td",[t._v(t._s(e.Title))]),t._v(" "),o("td",[t._v(t._s(e.Author))]),t._v(" "),o("td",[o("i",{staticClass:"icon fa-ellipsis-v"}),t._v(" "),o("div",{staticClass:"table__dropdown"},[o("a",{staticClass:"table__dropdown__el",on:{click:function(o){t.moreClicked(e)}}},[t._v("More")]),t._v(" "),o("a",{staticClass:"table__dropdown__el",on:{click:function(o){t.editClicked(e)}}},[t._v("Edit")]),t._v(" "),o("a",{staticClass:"table__dropdown__el",on:{click:function(o){t.removeBook(e)}}},[t._v("Delete")])])])])}))]),t._v(" "),o("a",{staticClass:"table__button",on:{click:function(e){t.addClicked()}}},[t._v("Add")])]):t._e(),t._v(" "),t.showMore?o("div",{staticClass:"popup popup--small"},[o("div",{staticClass:"popup--container"},[o("h1",{staticClass:"popup__title"},[t._v("More")]),t._v(" "),o("p",{staticClass:"popup__label"},[t._v("Title: ")]),t._v(" "),o("p",{staticClass:"form__el popup__el popup__el--center"},[t._v(t._s(t.editBook.Title))]),t._v(" "),o("p",{staticClass:"popup__label"},[t._v("Author: ")]),t._v(" "),o("p",{staticClass:"form__el popup__el popup__el--center"},[t._v(t._s(t.editBook.Author))]),t._v(" "),o("p",{staticClass:"popup__label"},[t._v("Imglink: ")]),t._v(" "),o("p",{staticClass:"form__el popup__el popup__el--center"},[o("a",{attrs:{href:t.editBook.Imglink}},[t._v("Link")])]),t._v(" "),o("p",{staticClass:"popup__label"},[t._v("ISBN: ")]),t._v(" "),o("p",{staticClass:"form__el popup__el popup__el--center"},[t._v(t._s(t.editBook.Isbn))]),t._v(" "),o("p",{staticClass:"popup__label"},[t._v("Status: ")]),t._v(" "),o("p",{staticClass:"form__el popup__el popup__el--center"},[t._v(t._s(t.editBook.Status))]),t._v(" "),o("button",{staticClass:"form__cancel addbook__cancel",attrs:{type:"cancel"},on:{click:function(e){t.showMore=!1,t.closePopup()}}},[t._v("Close")])])]):t._e(),t._v(" "),t.showEdit?o("div",{staticClass:"popup"},[o("div",{staticClass:"popup--container"},[o("h1",{staticClass:"popup__title"},[t._v("Edit book")]),t._v(" "),o("form",{staticClass:"popup__form",on:{submit:function(e){return e.preventDefault(),t.updateBook(e)}}},[o("label",{staticClass:"popup__label",attrs:{for:"inputTitle"}},[t._v("Title: ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.editBook.Title,expression:"editBook.Title"}],staticClass:"form__el popup__el",attrs:{type:"text",id:"inputTitle",required:"",autofocus:""},domProps:{value:t.editBook.Title},on:{input:function(e){e.target.composing||t.$set(t.editBook,"Title",e.target.value)}}}),t._v(" "),o("label",{staticClass:"popup__label",attrs:{for:"inputAuthor"}},[t._v("Author: ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.editBook.Author,expression:"editBook.Author"}],staticClass:"form__el popup__el",attrs:{type:"text",id:"inputAuthor",required:""},domProps:{value:t.editBook.Author},on:{input:function(e){e.target.composing||t.$set(t.editBook,"Author",e.target.value)}}}),t._v(" "),o("label",{staticClass:"popup__label",attrs:{for:"inputImglink"}},[t._v("Imglink: ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.editBook.Imglink,expression:"editBook.Imglink"}],staticClass:"form__el popup__el",attrs:{type:"text",id:"inputImglink",required:""},domProps:{value:t.editBook.Imglink},on:{input:function(e){e.target.composing||t.$set(t.editBook,"Imglink",e.target.value)}}}),t._v(" "),o("label",{staticClass:"popup__label",attrs:{for:"inputIsbn"}},[t._v("ISBN: ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.editBook.Isbn,expression:"editBook.Isbn"}],staticClass:"form__el popup__el",attrs:{type:"text",id:"inputIsbn",required:""},domProps:{value:t.editBook.Isbn},on:{input:function(e){e.target.composing||t.$set(t.editBook,"Isbn",e.target.value)}}}),t._v(" "),o("label",{staticClass:"popup__label",attrs:{for:"inputStatus"}},[t._v("Status: ")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.editBook.Status,expression:"editBook.Status"}],staticClass:"form__el popup__el popup__select",attrs:{type:"text",id:"inputStatus",required:""},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.editBook,"Status",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"Available"}},[t._v("Available")]),t._v(" "),o("option",{attrs:{value:"Unavailable"}},[t._v("Unavailable")])]),t._v(" "),o("button",{staticClass:"form__cancel addbook__cancel",attrs:{type:"cancel"},on:{click:function(e){t.showEdit=!1,t.closePopup()}}},[t._v("Cancel")]),t._v(" "),o("button",{staticClass:"form__sumbit addbook__sumbit",attrs:{type:"submit"}},[t._v("Update")])])])]):t._e(),t._v(" "),t.showAddBook?o("div",{staticClass:"popup"},[o("div",{staticClass:"popup--container"},[o("h1",{staticClass:"popup__title"},[t._v("Add book")]),t._v(" "),o("form",{staticClass:"popup__form",on:{submit:function(e){return e.preventDefault(),t.addBook(e)}}},[o("label",{staticClass:"popup__label",attrs:{for:"inputTitle"}},[t._v("Title: ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.newBook.Title,expression:"newBook.Title"}],staticClass:"form__el popup__el",attrs:{type:"text",id:"inputTitle",required:"",autofocus:""},domProps:{value:t.newBook.Title},on:{input:function(e){e.target.composing||t.$set(t.newBook,"Title",e.target.value)}}}),t._v(" "),o("label",{staticClass:"popup__label",attrs:{for:"inputAuthor"}},[t._v("Author: ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.newBook.Author,expression:"newBook.Author"}],staticClass:"form__el popup__el",attrs:{type:"text",id:"inputAuthor",required:""},domProps:{value:t.newBook.Author},on:{input:function(e){e.target.composing||t.$set(t.newBook,"Author",e.target.value)}}}),t._v(" "),o("label",{staticClass:"popup__label",attrs:{for:"inputImglink"}},[t._v("Imglink: ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.newBook.Imglink,expression:"newBook.Imglink"}],staticClass:"form__el popup__el",attrs:{type:"text",id:"inputImglink",required:""},domProps:{value:t.newBook.Imglink},on:{input:function(e){e.target.composing||t.$set(t.newBook,"Imglink",e.target.value)}}}),t._v(" "),o("label",{staticClass:"popup__label",attrs:{for:"inputIsbn"}},[t._v("ISBN: ")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.newBook.Isbn,expression:"newBook.Isbn"}],staticClass:"form__el popup__el",attrs:{type:"text",id:"inputIsbn",required:""},domProps:{value:t.newBook.Isbn},on:{input:function(e){e.target.composing||t.$set(t.newBook,"Isbn",e.target.value)}}}),t._v(" "),o("label",{staticClass:"popup__label",attrs:{for:"inputStatus"}},[t._v("Status: ")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.newBook.Status,expression:"newBook.Status"}],staticClass:"form__el popup__el popup__select",attrs:{type:"text",id:"inputStatus",required:""},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newBook,"Status",e.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"Available"}},[t._v("Available")]),t._v(" "),o("option",{attrs:{value:"Unavailable"}},[t._v("Unavailable")])]),t._v(" "),o("button",{staticClass:"form__cancel addbook__cancel",attrs:{type:"cancel"},on:{click:function(e){t.showAddBook=!1,t.closePopup()}}},[t._v("Cancel")]),t._v(" "),o("button",{staticClass:"form__sumbit addbook__sumbit",attrs:{type:"submit"}},[t._v("Add")])])])]):t._e()])])]),t._v(" "),o("footer",{staticClass:"footer footer--bottom"},[o("div",{staticClass:"footer--container"},[o("h1",{staticClass:"footer--title"},[t._v("\n            © Adrian Orłów\n          ")]),t._v(" "),o("div",{staticClass:"footer--nav"},[o("ul",{staticClass:"footer--list"},[o("p",{staticClass:"footer--link",on:{click:t.logout}},[t._v("Log out")])])])])])]):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Title")]),this._v(" "),e("th",[this._v("Author")]),this._v(" "),e("th",[this._v("Action")])])])}]},C=o("VU/8")(f,b,!1,null,null,null).exports;s.a.use(r.a);var g=new r.a({routes:[{path:"/",name:"Main",component:v},{path:"/login",name:"Login",component:k},{path:"/panel",name:"Panel",component:C}]});s.a.config.productionTip=!1,s.a.use(i.a),new s.a({el:"#app",router:g,components:{App:l},template:"<App/>"})},xUHV:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.5ed53392744d438b59fe.js.map